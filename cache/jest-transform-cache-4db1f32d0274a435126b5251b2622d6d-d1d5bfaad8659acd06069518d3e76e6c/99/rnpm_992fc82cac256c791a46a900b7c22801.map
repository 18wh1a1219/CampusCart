{"version":3,"mappings":"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","names":["Platform","select","obj","OS","measure","Promise","resolve","ref","x","y","width","height","pageX","pageY","makeName","nextID","makeTouchable","TouchableComponent","Touchable","android","TouchableNativeFeedback","ios","TouchableHighlight","default","defaultTouchableProps","underlayColor","iterator2array","it","arr","next","done","push","value","isClassComponent","component","prototype","render","deprecatedComponent","message","methods","deprecatedComponentHOC","Component","_inherits","_classCallCheck","args","arguments","_this","_defineProperty","forEach","name","_createClass","key","React","props","onRef","console","warn","getOwnPropertySymbols","Object","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","letter","keys","err","target","source","from","to","symbols","s","length","call","ReactPropTypesSecret","printWarning","require$$0","loggedTypeFailures","text","error","Error","checkPropTypes","typeSpecs","values","location","componentName","getStack","typeSpecName","ex","stack","emptyFunctionThatReturnsNull","factoryWithTypeCheckers","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","Symbol","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","func","number","object","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","element","createElementTypeChecker","instanceOf","createInstanceTypeChecker","node","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","propName","propFullName","secret","cacheKey","chainedCheckType","bind","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","Array","isArray","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","printWarning$1","valuesString","JSON","stringify","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","step","entries","entry","isSymbol","RegExp","Date","type","constructor","PropTypes","REACT_ELEMENT_TYPE","for","$$typeof","module","withContext","Context","wrap","EnhanceContext","forwardedRef","rest","Consumer","custom","displayName","consumerName","enhanceForwardRef","FC","forwardRef","defaultProps","propTypes","makeMenuRegistry","menus","Map","subscribe","instance","getName","get","set","unsubscribe","delete","updateLayoutInfo","layouts","has","menu","triggerLayout","optionsLayout","setOptionsCustomStyles","optionsCustomStyles","getMenu","getAll","OPEN_ANIM_DURATION","CLOSE_ANIM_DURATION","USE_NATIVE_DRIVER","Backdrop","fadeAnim","Animated","Value","timing","_this2","duration","toValue","useNativeDriver","start","_this3","onPress","style","TouchableWithoutFeedback","View","styles","fullscreen","opacity","StyleSheet","create","position","top","left","bottom","right","CFG","debug","log","MenuPlaceholder","state","ctx","_isMenuClosing","backdropStyles","shouldRenderMenu","isMenuOpen","_isInitialized","placeholder","_onBackdropPress","onBackdropRef","_makeOptions","overflow","computePosition","windowLayout","MenuOutside","children","other","options","collapsable","defaultOptionsContainerRenderer","layoutsEqual","a","b","PopupMenuContext","createContext","withCtx","instanceCount","MenuProvider","backHandler","closeMenu","backdropRef","r","optionsRef","_placeholderRef","_getOpenedMenu","onBackdropPress","layout","nativeEvent","_ownLayout","trigger","_getTrigger","then","_menuRegistry","_notify","_safeAreaLayout","menuActions","openMenu","toggleMenu","force","menuCtx","menuRegistry","BackHandler","addEventListener","_handleBackButton","customStyles","skipInstanceCheck","menuContextWrapper","removeEventListener","_setOpened","filter","_getOpened","isOpen","hideMenu","close","hideBackdrop","_invalidateTriggerLayouts","all","catch","forceUpdate","NULL","prev","openedMenu","find","_isRenderNeeded","afterSetState","beforeSetState","_this4","_beforeClose","onClose","onOpen","_initOpen","setState","openedMenuName","Provider","flex1","onLayout","_onLayout","menuProviderWrapper","SafeAreaView","safeArea","pointerEvents","_onSafeAreaLayout","backdrop","_onPlaceholderRef","_this5","open","e","isOutside","_getOptions","renderer","rendererProps","safeAreaLayout","optionsContainerStyle","renderOptionsContainer","optionsRenderer","_this6","_onOptionsLayout","optionsContainer","optionsType","onOptionsRef","createElement","flex","MenuOptions","_props","menuName","updateCustomStyles","optionsWrapper","MenuTrigger","disabled","triggerOnLongPress","onAlternativeAction","testID","_onPress","TriggerTouchableComponent","triggerOuterWrapper","onLongPress","triggerTouchable","triggerWrapper","Text","triggerText","axisPosition","oDim","wDim","tPos","tDim","pos","Math","round","fit","len","minPos","maxPos","fitPositionIntoSafeArea","saX","saY","saHeight","saWidth","oHeight","oWidth","wWidth","isRTL","wX","wY","wHeight","tX","tY","tHeight","tWidth","ContextMenu","scaleAnim","easing","Easing","out","cubic","in","animation","transform","scale","I18nManager","borderRadius","backgroundColor","PixelRatio","roundToNearestPixel","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","isRegularComponent","c","isTrigger","isMenuOptions","Menu","_name","_forceClose","_validateChildren","prevProps","opened","_opened","_reduceChildren","Children","toArray","reduce","child","cloneElement","_trigger","t","onSelect","MenuExternal","defineProperty","setDefaultRenderer","setDefaultRendererProps","MenuOption","_getMenusOnSelect","shouldClose","disableTouchable","_getCustomStyles","count","disabledStyles","defaultStyles","optionTextDisabled","optionText","option","optionWrapper","rendered","OptionTouchableComponent","_onSelect","optionTouchable","padding","color","NotAnimatedContextMenu","SlideInMenu","slide","translateY","interpolate","inputRange","outputRange","popoverPadding","anchorSize","anchorHyp","sqrt","anchorOffset","axisNegativeSideProperties","axisPositiveSideProperties","centeringProperties","center","leftOffset","rightOffset","axisCenteredPositionProperties","offset","getCenteringPrice","max","getTopPrice","hOptions","vOptions","centerOffset","sideOffset","getBottomPrice","getLeftPrice","getRightPrice","getStartPosKey","topProperties","centered","side","placement","bottomProperties","rightProperties","leftProperties","propertiesByPlacement","computeProperties","preferredPlacement","prices","bestPrice","sort","bestPlacement","pl","Popover","anchorStyle","userPlacement","animated","getContainerStyle","anchor","dynamicAnchorStyle","flexDirection","translateX","rotate","alignItems","minWidth","minHeight","renderers","MenuContext"],"sources":["../src/polyfills.js","../src/helpers.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/index.js","../src/with-context.js","../src/menuRegistry.js","../src/constants.js","../src/Backdrop.js","../src/logger.js","../src/MenuPlaceholder.js","../src/renderers/MenuOutside.js","../src/MenuProvider.js","../src/MenuOptions.js","../src/MenuTrigger.js","../src/renderers/ContextMenu.js","../src/Menu.js","../src/MenuOption.js","../src/renderers/NotAnimatedContextMenu.js","../src/renderers/SlideInMenu.js","../src/renderers/Popover.js","../src/index.js"],"sourcesContent":["// platform select polyfil for older RN versions\nimport { Platform } from 'react-native';\n\nif (!Platform.select) {\n  Platform.select = (obj) => obj[Platform.OS];\n}\n","import React from 'react';\nimport { Platform, TouchableHighlight, TouchableNativeFeedback } from 'react-native';\n\n/**\n * Promisifies measure's callback function and returns layout object.\n */\nexport const measure = ref => new Promise((resolve) => {\n  ref.measure((x, y, width, height, pageX, pageY) => {\n    resolve({\n      x: pageX, y: pageY,\n      width, height,\n    })\n  });\n});\n\n/**\n * Create unique menu name across all menu instances.\n */\nexport const makeName = (function() {\n  let nextID = 1;\n  return () => `menu-${nextID++}`;\n})();\n\n/**\n * Create touchable component based on passed parameter and platform.\n * It also returns default props for specific touchable types.\n */\nexport function makeTouchable(TouchableComponent) {\n  const Touchable = TouchableComponent || Platform.select({\n    android: TouchableNativeFeedback,\n    ios: TouchableHighlight,\n    default: TouchableHighlight,\n  });\n  let defaultTouchableProps = {};\n  if (Touchable === TouchableHighlight) {\n    defaultTouchableProps = { underlayColor: 'rgba(0, 0, 0, 0.1)' };\n  }\n  return { Touchable, defaultTouchableProps };\n}\n\nfunction includes(arr, value) {\n  return arr.indexOf(value) > -1;\n}\n\n/**\nLog object - prepares object for logging by stripping all \"private\" or excluding fields\n*/\nexport function lo(object, ...excluding) {\n  const exc = Array.from(excluding);\n  function isObject(obj) {\n    return obj === Object(obj);\n  }\n  function withoutPrivate(obj) {\n    if (!isObject(obj)) return obj;\n    const res = {};\n    for (var property in obj) {\n      if (obj.hasOwnProperty(property)) {\n        if (!property.startsWith('_') && !includes(exc, property)) {\n          res[property] = withoutPrivate(obj[property]);\n        }\n      }\n    }\n    return res;\n  }\n  return withoutPrivate(object);\n}\n\n/**\nConverts iterator to array\n*/\nexport function iterator2array(it) {\n  // workaround around https://github.com/instea/react-native-popup-menu/issues/41#issuecomment-340290127\n  const arr = [];\n  for (let next = it.next(); !next.done; next = it.next()) {\n    arr.push(next.value);\n  }\n  return arr;\n}\n\n/** checks if component is class component */\nexport function isClassComponent(component) {\n  return component.prototype && !!component.prototype.render;\n}\n\n/**\n * Higher order component to deprecate usage of component.\n * message - deprecate warning message\n * methods - array of method names to be delegated to deprecated component\n */\nexport function deprecatedComponent(message, methods = []) {\n  return function deprecatedComponentHOC(Component) {\n    return class DeprecatedComponent extends React.Component {\n      constructor(...args) {\n        super(...args);\n        methods.forEach(name => {\n          // delegate methods to the component\n          this[name] = (...args) => this.ref && this.ref[name](...args)\n        });\n      }\n\n      render() {\n        return <Component {...this.props} ref={this.onRef} />\n      }\n\n      onRef = ref => this.ref = ref;\n\n      componentDidMount() {\n        console.warn(message);\n      }\n    }\n  }\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          )\n\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React from \"react\";\n\nexport function withContext(Context, propName = \"context\") {\n  return function wrap(Component) {\n    class EnhanceContext extends React.Component {\n      render() {\n        const { forwardedRef, ...rest } = this.props;\n\n        return (\n          <Context.Consumer>\n            {value => {\n              const custom = {\n                [propName]: value,\n                ref: forwardedRef,\n              };\n              return <Component {...custom} {...rest} />;\n            }}\n          </Context.Consumer>\n        );\n      }\n    }\n\n    const name = Component.displayName || Component.name || \"Component\";\n    const consumerName =\n      Context.Consumer.displayName ||\n      Context.Consumer.name ||\n      \"Context.Consumer\";\n\n    function enhanceForwardRef(props, ref) {\n      return <EnhanceContext {...props} forwardedRef={ref} />;\n    }\n\n    enhanceForwardRef.displayName = `enhanceContext-${consumerName}(${name})`;\n\n    const FC = React.forwardRef(enhanceForwardRef);\n    FC.defaultProps = Component.defaultProps;\n    FC.propTypes = Component.propTypes;\n    return FC\n  };\n}\n","import { iterator2array } from './helpers';\n\n/**\n * Registry to subscribe, unsubscribe and update data of menus.\n *\n * menu data: {\n *   instance: react instance\n *   triggerLayout: Object - layout of menu trigger if known\n *   optionsLayout: Object - layout of menu options if known\n *   optionsCustomStyles: Object - custom styles of options\n * }\n*/\nexport default function makeMenuRegistry(menus = new Map()) {\n\n  /**\n   * Subscribes menu instance.\n   */\n  function subscribe(instance) {\n    const name = instance.getName()\n    if (menus.get(name)) {\n      console.warn(`incorrect usage of popup menu - menu with name ${name} already exists`);\n    }\n    menus.set(name, { name, instance });\n  }\n\n  /**\n   * Unsubscribes menu instance.\n   */\n  function unsubscribe(instance) {\n    menus.delete(instance.getName());\n  }\n\n  /**\n   * Updates layout infomration.\n   */\n  function updateLayoutInfo(name, layouts = {}) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = Object.assign({}, menus.get(name));\n    if (layouts.hasOwnProperty('triggerLayout')) {\n      menu.triggerLayout = layouts.triggerLayout;\n    }\n    if (layouts.hasOwnProperty('optionsLayout')) {\n      menu.optionsLayout = layouts.optionsLayout;\n    }\n    menus.set(name, menu);\n  }\n\n  function setOptionsCustomStyles(name, optionsCustomStyles) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = { ...menus.get(name), optionsCustomStyles };\n    menus.set(name, menu);\n  }\n\n  /**\n   * Get `menu data` by name.\n   */\n  function getMenu(name) {\n    return menus.get(name);\n  }\n\n  /**\n   * Returns all subscribed menus as array of `menu data`\n   */\n  function getAll() {\n    return iterator2array(menus.values());\n  }\n\n  return { subscribe, unsubscribe, updateLayoutInfo, getMenu, getAll, setOptionsCustomStyles };\n}\n","import { Platform } from 'react-native';\n\n// common durations of animation\nexport const OPEN_ANIM_DURATION = 225;\nexport const CLOSE_ANIM_DURATION = 195;\n\nexport const USE_NATIVE_DRIVER = (Platform.OS !== \"web\");\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, StyleSheet, TouchableWithoutFeedback, Animated } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from './constants';\n\nclass Backdrop extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.fadeAnim = new Animated.Value(0.001);\n  }\n\n  open() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: OPEN_ANIM_DURATION,\n        toValue: 1,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { onPress, style } = this.props;\n    return (\n      <TouchableWithoutFeedback onPress={onPress}>\n        <Animated.View style={[styles.fullscreen, { opacity: this.fadeAnim }]}>\n          <View style={[styles.fullscreen, style]} />\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n\n}\n\nBackdrop.propTypes = {\n  onPress: PropTypes.func.isRequired,\n};\n\nconst styles = StyleSheet.create({\n  fullscreen: {\n    opacity: 0,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n});\n\nexport default Backdrop;\n","\nexport const CFG = {\n  debug: false,\n}\n/**\n * Debug logger depending on `Menu.debug` static porperty.\n */\nexport const debug = (...args) => {\n  CFG.debug && console.log('react-native-popup-menu', ...args);\n};\n","import React, { Component } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Backdrop from './Backdrop';\nimport { debug } from './logger.js';\n\nexport default class MenuPlaceholder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {};\n  }\n\n  shouldComponentUpdate() {\n    // don't terminate closing animation\n    return !this.props.ctx._isMenuClosing;\n  }\n\n  render() {\n    const { ctx, backdropStyles } = this.props;\n    const shouldRenderMenu = ctx.isMenuOpen() && ctx._isInitialized();\n    debug('MenuPlaceholder should render', shouldRenderMenu);\n    if (!shouldRenderMenu) {\n      return null;\n    }\n    return (\n      <View style={styles.placeholder}>\n        <Backdrop\n          onPress={ctx._onBackdropPress}\n          style={backdropStyles}\n          ref={ctx.onBackdropRef}\n        />\n        {\n          ctx._makeOptions()\n        }\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden',\n  },\n});\n","import React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nexport const computePosition = ({ windowLayout }) => ({\n  top: windowLayout.height,\n  left: windowLayout.width,\n});\n\n\nconst MenuOutside = props => {\n  const { style, children, layouts, ...other } = props;\n  const position = computePosition(layouts);\n  return (\n    <View {...other} style={[styles.options, style, position]} collapsable={false}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n  },\n});\n\nexport default MenuOutside;\n","import React, { Component, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, BackHandler, SafeAreaView, StyleSheet } from 'react-native';\n\nimport { withContext } from './with-context';\nimport makeMenuRegistry from './menuRegistry';\nimport MenuPlaceholder from './MenuPlaceholder';\nimport { measure, isClassComponent } from './helpers';\nimport { debug } from './logger.js';\nimport MenuOutside from './renderers/MenuOutside';\n\nconst defaultOptionsContainerRenderer = options => options;\nconst layoutsEqual = (a, b) => (\n  a === b || (a && b && a.width === b.width && a.height === b.height)\n);\n\nif (!React.forwardRef) {\n  throw new Error('This version of popup-menu requires RN 0.55+. Check our compatibility table.')\n}\nexport const PopupMenuContext = createContext({})\nexport const withCtx = withContext(PopupMenuContext, \"ctx\");\n\n// count of MenuProvider instances\nlet instanceCount = 0;\n\nexport default class MenuProvider extends Component {\n\n  constructor(props) {\n    super(props);\n    this._menuRegistry = makeMenuRegistry();\n    this._isMenuClosing = false;\n    const menuActions = {\n      openMenu: name => this.openMenu(name),\n      closeMenu: () => this.closeMenu(),\n      toggleMenu: name => this.toggleMenu(name),\n      isMenuOpen: () => this.isMenuOpen(),\n      _getOpenedMenu: () => this._getOpenedMenu(),\n      _notify: force => this._notify(force),\n    };\n    this.menuCtx = { menuRegistry: this._menuRegistry, menuActions }\n  }\n\n  _handleBackButton = () => {\n    const { backHandler } = this.props;\n    debug('_handleBackButton called', backHandler);\n\n    // Default handler if true is passed\n    if (backHandler === true) {\n      if (this.isMenuOpen()) {\n        this.closeMenu();\n        return true;\n      }\n    }\n\n    // Custom handler called with MenuProvider instance id function is passed\n    if (typeof backHandler === 'function') {\n      return backHandler(this);\n    }\n\n    return false;\n  }\n\n  componentDidMount() {\n    if (BackHandler) {\n      BackHandler.addEventListener('hardwareBackPress', this._handleBackButton);\n    } else {\n      const { backHandler } = this.props;\n      if (backHandler === true || typeof backHandler === 'function') {\n        console.warn('backHandler prop cannot be used if BackHandler is not present (RN >= 0.44 required)');\n      }\n    }\n    const { customStyles, skipInstanceCheck } = this.props;\n    if (customStyles.menuContextWrapper) {\n      console.warn('menuContextWrapper custom style is deprecated and it might be removed in future releases, use menuProviderWrapper instead.');\n    }\n    if (!skipInstanceCheck) {\n      instanceCount++;\n    }\n    if (instanceCount > 1) {\n      console.warn('In most cases you should not have more MenuProviders in your app (see API documentation). In other cases use skipInstanceCheck prop.');\n    }\n  }\n\n  componentWillUnmount() {\n    debug('unmounting menu provider')\n    if (BackHandler) {\n      BackHandler.removeEventListener('hardwareBackPress', this._handleBackButton);\n    }\n    const { skipInstanceCheck } = this.props;\n    if (!skipInstanceCheck) {\n      instanceCount--;\n    }\n  }\n\n  isMenuOpen() {\n    return !!this._getOpenedMenu();\n  }\n\n  openMenu(name) {\n    const menu = this._menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('open menu', name);\n    menu.instance._setOpened(true);\n    return this._notify();\n  }\n\n  closeMenu() { // has no effect on controlled menus\n    debug('close menu');\n    this._menuRegistry.getAll()\n      .filter(menu => menu.instance._getOpened())\n      .forEach(menu => menu.instance._setOpened(false));\n    return this._notify();\n  }\n\n  _invalidateTriggerLayouts() {\n    // invalidate layouts for closed menus,\n    // both controlled and uncontrolled menus\n    this._menuRegistry.getAll()\n      .filter(menu => !menu.instance.isOpen())\n      .forEach(menu => {\n        this._menuRegistry.updateLayoutInfo(menu.name, { triggerLayout: undefined });\n      });\n  }\n\n  _beforeClose(menu) {\n    debug('before close', menu.name);\n    const hideMenu = (this.optionsRef\n      && this.optionsRef.close\n      && this.optionsRef.close()) || Promise.resolve();\n    const hideBackdrop = this.backdropRef && this.backdropRef.close();\n    this._invalidateTriggerLayouts();\n    this._isMenuClosing = true;\n    return Promise.all([hideMenu, hideBackdrop])\n      .then(() => {\n        this._isMenuClosing = false;\n      })\n      .catch(err => {\n        this._isMenuClosing = false;\n        throw err;\n      })\n  }\n\n  toggleMenu(name) {\n    const menu = this._menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('toggle menu', name);\n    if (menu.instance._getOpened()) {\n      return this.closeMenu();\n    } else {\n      return this.openMenu(name);\n    }\n  }\n\n  _notify(forceUpdate) {\n    const NULL = {};\n    const prev = this.openedMenu || NULL;\n    const next = this._menuRegistry.getAll().find(menu => menu.instance.isOpen()) || NULL;\n    // set newly opened menu before any callbacks are called\n    this.openedMenu = next === NULL ? undefined : next;\n    if (!forceUpdate && !this._isRenderNeeded(prev, next)) {\n      return Promise.resolve();\n    }\n    debug('notify: next menu:', next.name, ' prev menu:', prev.name);\n    let afterSetState = undefined;\n    let beforeSetState = () => Promise.resolve();\n    if (prev.name !== next.name) {\n      if (prev !== NULL && !prev.instance.isOpen()) {\n        beforeSetState = () => this._beforeClose(prev)\n          .then(() => prev.instance.props.onClose());\n      }\n      if (next !== NULL) {\n        next.instance.props.onOpen();\n        afterSetState = () => this._initOpen(next);\n      }\n    }\n    return beforeSetState().then(() => {\n      if (!this._placeholderRef) {\n        debug('setState ignored - maybe the context was unmounted')\n        return\n      }\n      this._placeholderRef.setState({ openedMenuName: this.openedMenu && this.openedMenu.name }, afterSetState);\n      debug('notify ended');\n    });\n  }\n\n  /**\n  Compares states of opened menu to determine if rerender is needed.\n  */\n  _isRenderNeeded(prev, next) {\n    if (prev === next) {\n      debug('_isRenderNeeded: skipping - no change');\n      return false;\n    }\n    if (prev.name !== next.name) {\n      return true;\n    }\n    const { triggerLayout, optionsLayout } = next;\n    if (!triggerLayout || !optionsLayout) {\n      debug('_isRenderNeeded: skipping - no trigger or options layout');\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const { style, customStyles } = this.props;\n    debug('render menu', this.isMenuOpen(), this._ownLayout);\n    return (\n      <PopupMenuContext.Provider value={this.menuCtx}>\n        <View style={styles.flex1} onLayout={this._onLayout}>\n          <View style={[\n            styles.flex1,\n            customStyles.menuContextWrapper,\n            customStyles.menuProviderWrapper,\n            style,\n          ]}>\n            { this.props.children }\n          </View>\n          <SafeAreaView\n            style={styles.safeArea}\n            pointerEvents=\"box-none\"\n          >\n            <View\n              style={styles.flex1}\n              collapsable={false}\n              pointerEvents=\"box-none\"\n              onLayout={this._onSafeAreaLayout}/>\n            <MenuPlaceholder\n              ctx={this}\n              backdropStyles={customStyles.backdrop}\n              ref={this._onPlaceholderRef}\n              />\n          </SafeAreaView>\n        </View>\n      </PopupMenuContext.Provider>\n    );\n  }\n\n  onBackdropRef = r => {\n    this.backdropRef = r;\n  }\n\n  onOptionsRef = r => {\n    this.optionsRef = r;\n  }\n\n  _onPlaceholderRef = r => this._placeholderRef = r;\n\n  _getOpenedMenu() {\n    const name = this._placeholderRef && this._placeholderRef.state.openedMenuName;\n    const menu = name ? this._menuRegistry.getMenu(name) : undefined;\n    debug('_getOpenedMenu', name, !!menu)\n    return menu\n  }\n\n  _onBackdropPress = () => {\n    debug('on backdrop press');\n    const menu = this._getOpenedMenu();\n    if (menu) {\n      menu.instance.props.onBackdropPress();\n    }\n    this.closeMenu();\n  }\n\n  _isInitialized() {\n    return !!this._ownLayout;\n  }\n\n  _initOpen(menu) {\n    debug('opening', menu.name);\n    const trigger = menu.instance._getTrigger();\n    measure(trigger).then(triggerLayout => {\n      debug('got trigger measurements', triggerLayout);\n      this._menuRegistry.updateLayoutInfo(menu.name, { triggerLayout });\n      this.backdropRef && this.backdropRef.open()\n      this._notify();\n    });\n  }\n\n  _onOptionsLayout(e, name, isOutside) {\n    const optionsLayout = e.nativeEvent.layout;\n    optionsLayout.isOutside = isOutside;\n    debug('got options layout', optionsLayout);\n    this._menuRegistry.updateLayoutInfo(name, { optionsLayout });\n    this._notify();\n  }\n\n  _makeOptions() {\n    const { instance, triggerLayout, optionsLayout } = this._getOpenedMenu();\n    const options = instance._getOptions();\n    const { renderer, rendererProps } = instance.props;\n    const windowLayout = this._ownLayout;\n    const safeAreaLayout = this._safeAreaLayout;\n    const { optionsContainerStyle, renderOptionsContainer, customStyles } = options.props;\n    const optionsRenderer = renderOptionsContainer || defaultOptionsContainerRenderer;\n    const isOutside = !triggerLayout || !optionsLayout;\n    const onLayout = e => this._onOptionsLayout(e, instance.getName(), isOutside);\n    const style = [optionsContainerStyle, customStyles.optionsContainer];\n    const layouts = { windowLayout, triggerLayout, optionsLayout, safeAreaLayout };\n    const props = { ...rendererProps, style, onLayout, layouts };\n    const optionsType = isOutside ? MenuOutside : renderer;\n    if (isClassComponent(optionsType)) {\n      props.ref = this.onOptionsRef;\n    }\n    return React.createElement(optionsType, props, optionsRenderer(options));\n  }\n\n  _onLayout = ({ nativeEvent: { layout } }) => {\n    if (layoutsEqual(this._ownLayout, layout)) {\n      return;\n    }\n    this._ownLayout = layout;\n    debug('context layout has changed', this._ownLayout);\n    if (!this.isMenuOpen()) {\n      return;\n    }\n    const { instance } = this._getOpenedMenu();\n    const trigger = instance._getTrigger();\n    measure(trigger).then(triggerLayout => {\n      debug('got trigger measurements after context layout change', triggerLayout);\n      this._menuRegistry.updateLayoutInfo(instance.getName(), { triggerLayout });\n      // force update as own layout has changed\n      this._notify(true);\n    });\n  }\n\n  _onSafeAreaLayout = ({ nativeEvent: { layout } }) => {\n    if (layoutsEqual(this._safeAreaLayout, layout)) {\n      return;\n    }\n    this._safeAreaLayout = layout;\n    debug('safeArea layout has changed', this._safeAreaLayout);\n    if (!this.isMenuOpen()) {\n      return;\n    }\n    this._notify(true);\n  }\n\n}\n\nMenuProvider.propTypes = {\n  customStyles: PropTypes.object,\n  backHandler: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  skipInstanceCheck: PropTypes.bool,\n}\n\nMenuProvider.defaultProps = {\n  customStyles: {},\n  backHandler: false,\n  skipInstanceCheck: false,\n};\n\nconst styles = StyleSheet.create({\n  flex1: {\n    flex: 1,\n  },\n  safeArea: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { View } from 'react-native';\nimport { withCtx } from './MenuProvider';\n\nexport class MenuOptions extends React.Component {\n\n  updateCustomStyles(_props) {\n    const { customStyles } = _props\n    const menu = this.props.ctx.menuActions._getOpenedMenu()\n    // FIXME react 16.3 workaround for ControlledExample!\n    if (!menu) return\n    const menuName = menu.instance.getName()\n    this.props.ctx.menuRegistry.setOptionsCustomStyles(menuName, customStyles)\n  }\n\n  componentDidMount() {\n    this.updateCustomStyles(this.props)\n  }\n\n  componentDidUpdate() {\n    this.updateCustomStyles(this.props)\n  }\n\n  render() {\n    const { customStyles, style, children } = this.props\n    return (\n      <View style={[customStyles.optionsWrapper, style]}>\n        {children}\n      </View>\n    )\n  }\n}\n\nMenuOptions.propTypes = {\n  customStyles: PropTypes.object,\n  renderOptionsContainer: PropTypes.func,\n  optionsContainerStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n};\n\nMenuOptions.defaultProps = {\n  customStyles: {},\n};\n\nexport default withCtx(MenuOptions);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, Text } from 'react-native';\nimport { debug } from './logger.js';\nimport { makeTouchable } from './helpers';\nimport { withCtx } from './MenuProvider';\n\nexport class MenuTrigger extends Component {\n\n  _onPress() {\n    debug('trigger onPress');\n    this.props.onPress && this.props.onPress();\n    this.props.ctx.menuActions.openMenu(this.props.menuName);\n  }\n\n  render() {\n    const { disabled, onRef, text, children, style, customStyles, menuName, \n      triggerOnLongPress, onAlternativeAction, testID, ...other } = this.props;\n    const onPress = () => !disabled && this._onPress();\n    const { Touchable, defaultTouchableProps } = makeTouchable(customStyles.TriggerTouchableComponent);\n    return (\n      <View ref={onRef} collapsable={false} style={customStyles.triggerOuterWrapper}>\n        <Touchable\n          testID={testID}\n          onPress={triggerOnLongPress ? onAlternativeAction : onPress}\n          onLongPress={triggerOnLongPress ? onPress : onAlternativeAction}\n          {...defaultTouchableProps}\n          {...customStyles.triggerTouchable}\n        >\n          <View {...other} style={[customStyles.triggerWrapper, style]}>\n            {text ? <Text style={customStyles.triggerText}>{text}</Text> : children}\n          </View>\n        </Touchable>\n      </View>\n    );\n  }\n\n}\n\nMenuTrigger.propTypes = {\n  disabled: PropTypes.bool,\n  text: PropTypes.string,\n  onPress: PropTypes.func,\n  onAlternativeAction: PropTypes.func,\n  customStyles: PropTypes.object,\n  triggerOnLongPress: PropTypes.bool,\n  testID: PropTypes.string,\n};\n\nMenuTrigger.defaultProps = {\n  disabled: false,\n  customStyles: {},\n  testID: undefined,\n};\n\nexport default withCtx(MenuTrigger)\n","import React from 'react';\nimport { I18nManager, Animated, Easing, StyleSheet, PixelRatio } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nconst axisPosition = (oDim, wDim, tPos, tDim) => {\n  // if options are bigger than window dimension, then render at 0\n  if (oDim > wDim) {\n    return 0;\n  }\n  // render at trigger position if possible\n  if (tPos + oDim <= wDim) {\n    return tPos;\n  }\n  // aligned to the trigger from the bottom (right)\n  if (tPos + tDim - oDim >= 0) {\n    return tPos + tDim - oDim;\n  }\n  // compute center position\n  let pos = Math.round(tPos + (tDim / 2) - (oDim / 2));\n  // check top boundary\n  if (pos < 0) {\n    return 0;\n  }\n  // check bottom boundary\n  if (pos + oDim > wDim) {\n    return wDim - oDim;\n  }\n  // if everything ok, render in center position\n  return pos;\n};\n\nfunction fit(pos, len, minPos, maxPos) {\n  if (pos === undefined) {\n    return undefined;\n  }\n  if (pos + len > maxPos) {\n    pos = maxPos - len;\n  }\n  if (pos < minPos) {\n    pos = minPos;\n  }\n  return pos;\n}\n// fits options (position) into safeArea\nexport const fitPositionIntoSafeArea = (position, layouts) => {\n  const { windowLayout, safeAreaLayout, optionsLayout } = layouts;\n  if (!safeAreaLayout) {\n    return position;\n  }\n  const { x: saX, y: saY, height: saHeight, width: saWidth } = safeAreaLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const { width: wWidth } = windowLayout;\n  let { top, left, right } = position;\n  top = fit(top, oHeight, saY, saY + saHeight);\n  left = fit(left, oWidth, saX, saX + saWidth)\n  right = fit(right, oWidth, wWidth - saX - saWidth, saX)\n  return { top, left, right };\n}\n\nexport const computePosition = (layouts, isRTL) => {\n  const { windowLayout, triggerLayout, optionsLayout } = layouts;\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const top = axisPosition(oHeight, wHeight, tY - wY, tHeight);\n  const left = axisPosition(oWidth, wWidth, tX - wX, tWidth);\n  const start = isRTL ? 'right' : 'left';\n  const position = { top, [start]: left };\n  return fitPositionIntoSafeArea(position, layouts);\n};\n\nexport default class ContextMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const animation = {\n      transform: [ { scale: this.state.scaleAnim } ],\n      opacity: this.state.scaleAnim,\n    };\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <Animated.View {...other} style={[styles.options, style, animation, position]}>\n        {children}\n      </Animated.View>\n    );\n  }\n\n}\n\n// public exports\nContextMenu.computePosition = computePosition;\nContextMenu.fitPositionIntoSafeArea = fitPositionIntoSafeArea;\n\nexport const styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    borderRadius: 2,\n    backgroundColor: 'white',\n    width: PixelRatio.roundToNearestPixel(200),\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View } from 'react-native';\nimport MenuOptions from './MenuOptions';\nimport MenuTrigger from './MenuTrigger';\nimport ContextMenu from './renderers/ContextMenu';\nimport { makeName } from './helpers';\nimport { debug, CFG } from './logger';\nimport { withCtx } from './MenuProvider';\n\nconst isRegularComponent = c => c.type !== MenuOptions && c.type !== MenuTrigger;\nconst isTrigger = c => c.type === MenuTrigger;\nconst isMenuOptions = c => c.type === MenuOptions;\n\nexport class Menu extends Component {\n\n  constructor(props) {\n    super(props);\n    this._name = this.props.name || makeName();\n    this._forceClose = false;\n    const { ctx } = props;\n    if(!(ctx && ctx.menuActions)) {\n      throw new Error(\"Menu component must be ancestor of MenuProvider\");\n    }\n  }\n\n  componentDidMount() {\n    if (!this._validateChildren()) {\n      return;\n    }\n    debug('subscribing menu', this._name);\n    this.props.ctx.menuRegistry.subscribe(this);\n    this.props.ctx.menuActions._notify();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.name !== prevProps.name) {\n      console.warn('Menu name cannot be changed');\n    }\n    // force update if menu is opened as its content might have changed\n    const force = this.isOpen();\n    debug('component did update', this._name, force);\n    this.props.ctx.menuActions._notify(force);\n  }\n\n  componentWillUnmount() {\n    debug('unsubscribing menu', this._name);\n    if (this.isOpen()) {\n      this._forceClose = true;\n      this.props.ctx.menuActions._notify();\n    }\n    this.props.ctx.menuRegistry.unsubscribe(this);\n  }\n\n  open() {\n    return this.props.ctx.menuActions.openMenu(this._name);\n  }\n\n  close() {\n    return this.props.ctx.menuActions.closeMenu();\n  }\n\n  isOpen() {\n    if (this._forceClose) {\n      return false;\n    }\n    return this.props.hasOwnProperty('opened') ? this.props.opened : this._opened;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  render() {\n    const { style } = this.props;\n    const children = this._reduceChildren();\n    return (\n      <View style={style}>\n        {children}\n      </View>\n    );\n  }\n\n  _reduceChildren() {\n    return React.Children.toArray(this.props.children).reduce((r, child) => {\n      if (isTrigger(child)) {\n        r.push(React.cloneElement(child, {\n          key: null,\n          menuName: this._name,\n          onRef: (t => this._trigger = t),\n        }));\n      }\n      if (isRegularComponent(child)) {\n        r.push(child);\n      }\n      return r;\n    }, []);\n  }\n\n  _getTrigger() {\n    return this._trigger;\n  }\n\n  _getOptions() {\n    return React.Children.toArray(this.props.children).find(isMenuOptions);\n  }\n\n  _getOpened() {\n    return this._opened;\n  }\n\n  _setOpened(opened) {\n    this._opened = opened;\n  }\n\n  _validateChildren() {\n    const children = React.Children.toArray(this.props.children);\n    const options = children.find(isMenuOptions);\n    if (!options) {\n      console.warn('Menu has to contain MenuOptions component');\n    }\n    const trigger = children.find(isTrigger);\n    if (!trigger) {\n      console.warn('Menu has to contain MenuTrigger component');\n    }\n    return options && trigger;\n  }\n\n}\n\nMenu.propTypes = {\n  name: PropTypes.string,\n  renderer: PropTypes.func,\n  rendererProps: PropTypes.object,\n  onSelect: PropTypes.func,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  opened: PropTypes.bool,\n  onBackdropPress: PropTypes.func,\n};\n\nMenu.defaultProps = {\n  renderer: ContextMenu,\n  rendererProps: {},\n  onSelect: () => {},\n  onOpen: () => {},\n  onClose: () => {},\n  onBackdropPress: () => {},\n};\n\nconst MenuExternal = withCtx(Menu);\nObject.defineProperty(MenuExternal, 'debug', \n    { \n      get: function() { return CFG.debug }, \n      set: function(val) { CFG.debug = val }, \n    });\nMenuExternal.setDefaultRenderer = (renderer) => {\n  Menu.defaultProps.renderer = renderer;\n}\nMenuExternal.setDefaultRendererProps = (rendererProps) => {\n  Menu.defaultProps.rendererProps = rendererProps;\n}\nexport default MenuExternal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, StyleSheet, Text } from 'react-native';\nimport { debug } from './logger';\nimport { makeTouchable } from './helpers';\nimport { withCtx } from './MenuProvider';\n\n\nexport class MenuOption extends Component {\n\n  _onSelect() {\n    const { value } = this.props;\n    const onSelect = this.props.onSelect || this._getMenusOnSelect()\n    const shouldClose = onSelect(value) !== false;\n    debug('select option', value, shouldClose);\n    if (shouldClose) {\n        this.props.ctx.menuActions.closeMenu();\n    }\n  }\n\n  _getMenusOnSelect() {\n    const menu = this.props.ctx.menuActions._getOpenedMenu();\n    return menu.instance.props.onSelect;\n  }\n\n  _getCustomStyles() {\n    // FIXME react 16.3 workaround for ControlledExample!\n    const menu = this.props.ctx.menuActions._getOpenedMenu() || {}\n    const { optionsCustomStyles } = menu;\n    return {\n      ...optionsCustomStyles,\n      ...this.props.customStyles,\n    }\n  }\n\n  render() {\n    const { text, disabled, disableTouchable, children, style, testID } = this.props;\n    const customStyles = this._getCustomStyles()\n    if (text && React.Children.count(children) > 0) {\n      console.warn(\"MenuOption: Please don't use text property together with explicit children. Children are ignored.\");\n    }\n    if (disabled) {\n      const disabledStyles = [defaultStyles.optionTextDisabled, customStyles.optionText];\n      return (\n        <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n          {text ? <Text style={disabledStyles}>{text}</Text> : children}\n        </View>\n      );\n    }\n    const rendered = (\n      <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n        {text ? <Text style={customStyles.optionText}>{text}</Text> : children}\n      </View>\n    );\n    if (disableTouchable) {\n      return rendered;\n    }\n    else {\n      const { Touchable, defaultTouchableProps } = makeTouchable(customStyles.OptionTouchableComponent);\n      return (\n        <Touchable\n          testID={testID}\n          onPress={() => this._onSelect()}\n          {...defaultTouchableProps}\n          {...customStyles.optionTouchable}\n        >\n          {rendered}\n        </Touchable>\n      );\n    }\n  }\n}\n\nMenuOption.propTypes = {\n  disabled: PropTypes.bool,\n  disableTouchable: PropTypes.bool,\n  onSelect: PropTypes.func,\n  text: PropTypes.string,\n  value: PropTypes.any,\n  customStyles: PropTypes.object,\n  testID: PropTypes.string,\n};\n\nMenuOption.defaultProps = {\n  disabled: false,\n  disableTouchable: false,\n  customStyles: {},\n  testID: undefined,\n};\n\nconst defaultStyles = StyleSheet.create({\n  option: {\n    padding: 5,\n    backgroundColor: 'transparent',\n  },\n  optionTextDisabled: {\n    color: '#ccc',\n  },\n});\n\nexport default withCtx(MenuOption);\n","import React from 'react';\nimport { I18nManager, View } from 'react-native';\n\nimport { computePosition, styles } from './ContextMenu';\n\n/**\nSimplified version of ContextMenu without animation.\n*/\nexport default class NotAnimatedContextMenu extends React.Component {\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <View {...other} style={[styles.options, style, position]}>\n        {children}\n      </View>\n    );\n  }\n\n}\n","import React from 'react';\nimport { Animated, StyleSheet, Easing } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nexport const computePosition = (layouts) => {\n  const { windowLayout, optionsLayout } = layouts\n  const { height: wHeight } = windowLayout;\n  const { height: oHeight } = optionsLayout;\n  const top  = wHeight - oHeight;\n  const left = 0, right = 0;\n  const position = { top, left, right };\n  // TODO what is the best way to handle safeArea?\n  // most likely some extra paddings inside SlideInMenu \n  return position;\n}\n\nexport default class SlideInMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      slide: new Animated.Value(0),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.slide, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.slide, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const { height: oHeight } = layouts.optionsLayout;\n    const animation = {\n      transform: [{\n        translateY: this.state.slide.interpolate({\n          inputRange: [0, 1],\n          outputRange: [oHeight, 0],\n        }),\n      }],\n    };\n    const position = computePosition(layouts);\n    return (\n      <Animated.View style={[styles.options, style, animation, position]} {...other}>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","import { I18nManager, Animated, Easing, StyleSheet, View } from 'react-native';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants.js';\n\nconst popoverPadding = 7;\nconst anchorSize = 15;\nconst anchorHyp = Math.sqrt(anchorSize*anchorSize + anchorSize*anchorSize);\nconst anchorOffset = (anchorHyp + anchorSize) / 2 - popoverPadding;\n\n// left/top placement\nfunction axisNegativeSideProperties({ oDim, tPos }) {\n  return { position: tPos - oDim };\n}\n\n// right/bottom placement\nfunction axisPositiveSideProperties({ tPos, tDim }) {\n  // substract also anchor placeholder from the beginning\n  return { position: tPos + tDim - anchorSize };\n}\n\n// computes offsets (off screen overlap) of popover when trying to align it to the center\nfunction centeringProperties({ oDim, wDim, tPos, tDim }) {\n  const center = Math.round(tPos + (tDim / 2));\n  const leftOffset = (oDim / 2) - center;\n  const rightOffset = center + (oDim / 2) - wDim;\n  return { center, leftOffset, rightOffset };\n}\n\n/**\n * Computes position and offset of popover when trying to align it to the triger center.\n * It consideres window boundaries.\n * Returns object with keys:\n *   - position: <Number> Absolute position - top/left,\n *   - offset: <Number> window overlapping size if window boundaries were not considered\n */\nfunction axisCenteredPositionProperties(options) {\n  const { oDim, wDim } = options;\n  const { center, leftOffset, rightOffset } = centeringProperties(options);\n  if (leftOffset > 0 || rightOffset > 0) {\n    // right/bottom position is better\n    if (leftOffset < rightOffset) {\n      return { offset: rightOffset, position: wDim - oDim };\n    }\n    // left/top position is better\n    if (rightOffset < leftOffset) {\n      return { offset: -leftOffset, position: 0 };\n    }\n  }\n  // centered position\n  return { offset: 0, position: center - oDim / 2 };\n}\n\n/* Evaluate centering placement */\nfunction getCenteringPrice(options) {\n  const { leftOffset, rightOffset } = centeringProperties(options);\n  // TODO: currently shifted popovers have higher price,\n  // popover shift could be taken into account with the same price\n  return Math.max(0, leftOffset) + Math.max(0, rightOffset);\n}\n\n/* Evaluate top placement */\nfunction getTopPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions)\n  const sideOffset =  Math.max(0, hOptions.oDim - hOptions.tPos)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate bottom placement */\nfunction getBottomPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions)\n  const sideOffset =  Math.max(0, hOptions.tPos + hOptions.tDim + hOptions.oDim - hOptions.wDim)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate left placement */\nfunction getLeftPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions)\n  const sideOffset =  Math.max(0, vOptions.oDim - vOptions.tPos)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate right placement */\nfunction getRightPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions)\n  const sideOffset =  Math.max(0, vOptions.tPos + vOptions.tDim + vOptions.oDim - vOptions.wDim)\n  return centerOffset + sideOffset\n}\n\nfunction getStartPosKey(isRTL) {\n  return isRTL ? 'right' : 'left';\n}\n\nfunction topProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisNegativeSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'top',\n  };\n}\n\nfunction bottomProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisPositiveSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'bottom',\n  };\n}\n\nfunction rightProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisPositiveSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'right',\n  };\n}\n\nfunction leftProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisNegativeSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'left',\n  };\n}\n\n// maps placement to function which computes correct properties\nconst propertiesByPlacement = {\n  top: topProperties,\n  bottom: bottomProperties,\n  left: leftProperties,\n  right: rightProperties,\n};\n\n/**\n * Computes properties needed for drawing popover.\n * Returns object with keys:\n *   - position: <Object> { top: Number, left: Number } - popover absolute position\n *   - placement: <Enum> top|left|top|bottom - position to the trigger\n *   - offset: <Number> value by which must be anchor shifted\n */\nexport function computeProperties (\n  { windowLayout, triggerLayout, optionsLayout },\n  placement,\n  preferredPlacement,\n  isRTL,\n) {\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const hOptions = {\n    oDim: oHeight + popoverPadding * 2,\n    wDim: wHeight,\n    tPos: tY - wY,\n    tDim: tHeight,\n  };\n  const vOptions = {\n    oDim: oWidth + popoverPadding * 2,\n    wDim: wWidth,\n    tPos: tX - wX,\n    tDim: tWidth,\n  };\n  if (placement !== 'auto' && propertiesByPlacement[placement]) {\n    return propertiesByPlacement[placement](hOptions, vOptions, isRTL)\n  }\n\n  const prices = {\n    top: getTopPrice(hOptions, vOptions),\n    bottom: getBottomPrice(hOptions, vOptions),\n    right: getRightPrice(hOptions, vOptions),\n    left: getLeftPrice(hOptions, vOptions),\n  };\n  const bestPrice = Object.values(prices).sort((a, b) => a - b)[0]\n  const bestPlacement = prices[preferredPlacement] === bestPrice\n    ? preferredPlacement\n    : Object.keys(prices).find(pl => prices[pl] === bestPrice)\n\n  return propertiesByPlacement[bestPlacement](hOptions, vOptions, isRTL)\n}\n\nexport default class Popover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const {\n      style,\n      children,\n      layouts,\n      anchorStyle,\n      preferredPlacement,\n      placement: userPlacement,\n      ...other\n    } = this.props;\n    const isRTL = I18nManager.isRTL;\n    const animation = {\n      transform: [ { scale: this.state.scaleAnim } ],\n      opacity: this.state.scaleAnim,\n    };\n    const { position, placement, offset } = computeProperties(\n      layouts,\n      userPlacement,\n      preferredPlacement,\n      isRTL,\n    );\n    return (\n      <Animated.View\n        style={[\n          styles.animated,\n          animation,\n          position,\n          getContainerStyle({ placement, isRTL }),\n        ]}\n        pointerEvents=\"box-none\"\n      >\n        <View\n          style={[\n            styles.anchor,\n            dynamicAnchorStyle({ placement, offset, isRTL }),\n            anchorStyle,\n          ]}\n        />\n        <View {...other} style={[styles.options, style]}>\n          {children}\n        </View>\n      </Animated.View>\n    );\n  }\n\n}\n\nPopover.propTypes = {\n  anchorStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n  placement: PropTypes.oneOf(['auto', 'top', 'right', 'bottom', 'left']),\n  preferredPlacement: PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\n};\n\nPopover.defaultProps = {\n  preferredPlacement: 'top',\n  placement: 'auto',\n};\n\nconst getContainerStyle = ({ placement, isRTL }) => ({\n  left: {\n    flexDirection: isRTL ? 'row' : 'row-reverse',\n  },\n  right: {\n    flexDirection: isRTL ? 'row-reverse' : 'row',\n  },\n  top: {\n    flexDirection: 'column-reverse',\n  },\n  bottom: {\n    flexDirection: 'column',\n  },\n})[placement]\n\nconst dynamicAnchorStyle = ({ offset, placement, isRTL }) => {\n  const start = getStartPosKey(isRTL);\n  switch (placement) {\n    case 'right':\n      return {\n        top: offset,\n        transform: [\n          { translateX: anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'left':\n      return {\n        top: offset,\n        transform: [\n          { translateX: -anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'top':\n      return {\n        [start]: offset,\n        transform: [\n          { translateY: -anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'bottom':\n      return {\n        [start]: offset,\n        transform: [\n          { translateY: anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n  }\n}\n\nexport const styles = StyleSheet.create({\n  animated: {\n    padding: popoverPadding,\n    backgroundColor: 'transparent',\n    position: 'absolute',\n    alignItems: 'center',\n  },\n  options: {\n    borderRadius: 2,\n    minWidth: anchorHyp,\n    minHeight: anchorHyp,\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n  anchor: {\n    width: anchorSize,\n    height: anchorSize,\n    backgroundColor: 'white',\n    elevation: 5,\n  },\n});\n","import './polyfills';\nimport { deprecatedComponent } from './helpers'\n\nimport Menu from './Menu';\nimport MenuProvider, { withCtx } from './MenuProvider';\nimport MenuOption from './MenuOption';\nimport MenuOptions from './MenuOptions';\nimport MenuTrigger from './MenuTrigger';\n\nimport ContextMenu from './renderers/ContextMenu';\nimport NotAnimatedContextMenu from './renderers/NotAnimatedContextMenu';\nimport SlideInMenu from './renderers/SlideInMenu';\nimport Popover from './renderers/Popover';\nconst renderers = { ContextMenu, SlideInMenu, NotAnimatedContextMenu, Popover };\n\nconst MenuContext = deprecatedComponent(\n  'MenuContext is deprecated and it might be removed in future releases, use MenuProvider instead.',\n  ['openMenu', 'toggleMenu', 'closeMenu', 'isMenuOpen'],\n)(MenuProvider);\n\nexport {\n  Menu as default,\n  Menu,\n  MenuProvider,\n  MenuContext,\n  MenuOption,\n  MenuOptions,\n  MenuTrigger,\n  renderers,\n  withCtx as withMenuContext,\n};\n"]}