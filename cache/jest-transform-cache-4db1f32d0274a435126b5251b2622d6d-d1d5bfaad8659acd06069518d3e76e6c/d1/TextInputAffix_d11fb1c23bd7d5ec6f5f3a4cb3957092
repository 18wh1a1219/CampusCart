6c98b84469f54d813b0d9cf08c83c4d6
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.TextInputAffix = exports.AffixAdornment = void 0;

var _react = _interopRequireDefault(require("react"));

var _color = _interopRequireDefault(require("color"));

var _reactNative = require("react-native");

var _theming = require("../../../core/theming");

var _enums = require("./enums");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var AFFIX_OFFSET = 12;

var AffixContext = _react.default.createContext({
  textStyle: {
    fontFamily: '',
    color: ''
  },
  topPosition: null,
  side: _enums.AdornmentSide.Left
});

var AffixAdornment = function AffixAdornment(_ref) {
  var affix = _ref.affix,
      side = _ref.side,
      textStyle = _ref.textStyle,
      topPosition = _ref.topPosition,
      onLayout = _ref.onLayout,
      visible = _ref.visible,
      paddingHorizontal = _ref.paddingHorizontal,
      maxFontSizeMultiplier = _ref.maxFontSizeMultiplier;
  return _react.default.createElement(AffixContext.Provider, {
    value: {
      side: side,
      textStyle: textStyle,
      topPosition: topPosition,
      onLayout: onLayout,
      visible: visible,
      paddingHorizontal: paddingHorizontal,
      maxFontSizeMultiplier: maxFontSizeMultiplier
    }
  }, affix);
};

exports.AffixAdornment = AffixAdornment;

var TextInputAffix = function TextInputAffix(_ref2) {
  var text = _ref2.text,
      labelStyle = _ref2.textStyle,
      theme = _ref2.theme;

  var _react$default$useCon = _react.default.useContext(AffixContext),
      textStyle = _react$default$useCon.textStyle,
      onLayout = _react$default$useCon.onLayout,
      topPosition = _react$default$useCon.topPosition,
      side = _react$default$useCon.side,
      visible = _react$default$useCon.visible,
      paddingHorizontal = _react$default$useCon.paddingHorizontal,
      maxFontSizeMultiplier = _react$default$useCon.maxFontSizeMultiplier;

  var textColor = (0, _color.default)(theme.colors.text).alpha(theme.dark ? 0.7 : 0.54).rgb().string();
  var offset = typeof paddingHorizontal === 'number' ? paddingHorizontal : AFFIX_OFFSET;
  var style = (0, _defineProperty2.default)({
    top: topPosition
  }, side, offset);
  return _react.default.createElement(_reactNative.Animated.View, {
    style: [styles.container, style, {
      opacity: (visible === null || visible === void 0 ? void 0 : visible.interpolate({
        inputRange: [0, 1],
        outputRange: [1, 0]
      })) || 1
    }],
    onLayout: onLayout
  }, _react.default.createElement(_reactNative.Text, {
    maxFontSizeMultiplier: maxFontSizeMultiplier,
    style: [{
      color: textColor
    }, textStyle, labelStyle]
  }, text));
};

exports.TextInputAffix = TextInputAffix;
TextInputAffix.displayName = 'TextInput.Affix';

var styles = _reactNative.StyleSheet.create({
  container: {
    position: 'absolute',
    justifyContent: 'center',
    alignItems: 'center'
  }
});

var _default = (0, _theming.withTheme)(TextInputAffix);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFVQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxZQUFZLEdBQUcsRUFBckI7O0FBNEJBLElBQU1DLFlBQVksR0FBR0MsZUFBTUMsYUFBTkQsQ0FBa0M7RUFDckRFLFNBQVMsRUFBRTtJQUFFQyxVQUFVLEVBQUUsRUFBZDtJQUFrQkMsS0FBSyxFQUFFO0VBQXpCLENBRDBDO0VBRXJEQyxXQUFXLEVBQUUsSUFGd0M7RUFHckRDLElBQUksRUFBRUMscUJBQWNDO0FBSGlDLENBQWxDUixDQUFyQjs7QUFNQSxJQUFNUyxjQUtMLEdBQUcsU0FMRUEsY0FLRixPQVNFO0VBQUEsSUFSSkMsS0FRSSxRQVJKQSxLQVFJO0VBQUEsSUFQSkosSUFPSSxRQVBKQSxJQU9JO0VBQUEsSUFOSkosU0FNSSxRQU5KQSxTQU1JO0VBQUEsSUFMSkcsV0FLSSxRQUxKQSxXQUtJO0VBQUEsSUFKSk0sUUFJSSxRQUpKQSxRQUlJO0VBQUEsSUFISkMsT0FHSSxRQUhKQSxPQUdJO0VBQUEsSUFGSkMsaUJBRUksUUFGSkEsaUJBRUk7RUFBQSxJQURKQyxxQkFDSSxRQURKQSxxQkFDSTtFQUNKLE9BQ0VDLDZCQUFDaEIsWUFBRCxDQUFjaUIsUUFBZDtJQUNFQyxLQUFLLEVBQUU7TUFDTFgsSUFESyxFQUNMQSxJQURLO01BRUxKLFNBRkssRUFFTEEsU0FGSztNQUdMRyxXQUhLLEVBR0xBLFdBSEs7TUFJTE0sUUFKSyxFQUlMQSxRQUpLO01BS0xDLE9BTEssRUFLTEEsT0FMSztNQU1MQyxpQkFOSyxFQU1MQSxpQkFOSztNQU9MQztJQVBLO0VBRFQsR0FXR0osS0FYSCxDQURGO0FBZkY7Ozs7QUErREEsSUFBTVEsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixRQUFtRDtFQUFBLElBQWhEQyxJQUFnRCxTQUFoREEsSUFBZ0Q7RUFBQSxJQUEvQkMsVUFBK0IsU0FBMUNsQixTQUEwQztFQUFBLElBQW5CbUIsS0FBbUIsU0FBbkJBLEtBQW1COztFQUN4RSw0QkFRSXJCLGVBQU1zQixVQUFOdEIsQ0FBaUJELFlBQWpCQyxDQVJKO0VBQUEsSUFDRUUsU0FERix5QkFDRUEsU0FERjtFQUFBLElBRUVTLFFBRkYseUJBRUVBLFFBRkY7RUFBQSxJQUdFTixXQUhGLHlCQUdFQSxXQUhGO0VBQUEsSUFJRUMsSUFKRix5QkFJRUEsSUFKRjtFQUFBLElBS0VNLE9BTEYseUJBS0VBLE9BTEY7RUFBQSxJQU1FQyxpQkFORix5QkFNRUEsaUJBTkY7RUFBQSxJQU9FQyxxQkFQRix5QkFPRUEscUJBUEY7O0VBU0EsSUFBTVMsU0FBUyxHQUFHLG9CQUFNRixLQUFLLENBQUNHLE1BQU5ILENBQWFGLElBQW5CLEVBQ2ZNLEtBRGUsQ0FDVEosS0FBSyxDQUFDSyxJQUFOTCxHQUFhLEdBQWJBLEdBQW1CLElBRFYsRUFFZk0sR0FGZSxHQUdmQyxNQUhlLEVBQWxCO0VBS0EsSUFBTUMsTUFBTSxHQUNWLE9BQU9oQixpQkFBUCxLQUE2QixRQUE3QixHQUF3Q0EsaUJBQXhDLEdBQTREZixZQUQ5RDtFQUdBLElBQU1nQyxLQUFLO0lBQ1RDLEdBQUcsRUFBRTFCO0VBREksR0FFUkMsSUFGUSxFQUVEdUIsTUFGQyxDQUFYO0VBS0EsT0FDRWQsNkJBQUNpQixzQkFBU0MsSUFBVjtJQUNFSCxLQUFLLEVBQUUsQ0FDTEksTUFBTSxDQUFDQyxTQURGLEVBRUxMLEtBRkssRUFHTDtNQUNFTSxPQUFPLEVBQ0wsUUFBTyxTQUFQeEIsV0FBTyxXQUFQQSxtQkFBTyxDQUFFeUIsV0FBVHpCLENBQXFCO1FBQ25CMEIsVUFBVSxFQUFFLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FETztRQUVuQkMsV0FBVyxFQUFFLENBQUMsQ0FBRCxFQUFJLENBQUo7TUFGTSxDQUFyQjNCLE1BR007SUFMVixDQUhLLENBRFQ7SUFZRUQsUUFBUSxFQUFFQTtFQVpaLEdBY0VJLDZCQUFDaUIsaUJBQUQ7SUFDRWxCLHFCQUFxQixFQUFFQSxxQkFEekI7SUFFRWdCLEtBQUssRUFBRSxDQUFDO01BQUUxQixLQUFLLEVBQUVtQjtJQUFULENBQUQsRUFBdUJyQixTQUF2QixFQUFrQ2tCLFVBQWxDO0VBRlQsR0FJR0QsSUFKSCxDQWRGLENBREY7QUF2QkY7OztBQStDQUQsY0FBYyxDQUFDc0IsV0FBZnRCLEdBQTZCLGlCQUE3QkE7O0FBRUEsSUFBTWdCLE1BQU0sR0FBR08sd0JBQVdDLE1BQVhELENBQWtCO0VBQy9CTixTQUFTLEVBQUU7SUFDVFEsUUFBUSxFQUFFLFVBREQ7SUFFVEMsY0FBYyxFQUFFLFFBRlA7SUFHVEMsVUFBVSxFQUFFO0VBSEg7QUFEb0IsQ0FBbEJKLENBQWY7O2VBUWUsd0JBQVV2QixjQUFWIiwibmFtZXMiOlsiQUZGSVhfT0ZGU0VUIiwiQWZmaXhDb250ZXh0IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidGV4dFN0eWxlIiwiZm9udEZhbWlseSIsImNvbG9yIiwidG9wUG9zaXRpb24iLCJzaWRlIiwiQWRvcm5tZW50U2lkZSIsIkxlZnQiLCJBZmZpeEFkb3JubWVudCIsImFmZml4Iiwib25MYXlvdXQiLCJ2aXNpYmxlIiwicGFkZGluZ0hvcml6b250YWwiLCJtYXhGb250U2l6ZU11bHRpcGxpZXIiLCJfcmVhY3QiLCJQcm92aWRlciIsInZhbHVlIiwiVGV4dElucHV0QWZmaXgiLCJ0ZXh0IiwibGFiZWxTdHlsZSIsInRoZW1lIiwidXNlQ29udGV4dCIsInRleHRDb2xvciIsImNvbG9ycyIsImFscGhhIiwiZGFyayIsInJnYiIsInN0cmluZyIsIm9mZnNldCIsInN0eWxlIiwidG9wIiwiX3JlYWN0TmF0aXZlIiwiVmlldyIsInN0eWxlcyIsImNvbnRhaW5lciIsIm9wYWNpdHkiLCJpbnRlcnBvbGF0ZSIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsImRpc3BsYXlOYW1lIiwiU3R5bGVTaGVldCIsImNyZWF0ZSIsInBvc2l0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIl0sInNvdXJjZXMiOlsiVGV4dElucHV0QWZmaXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY29sb3IgZnJvbSAnY29sb3InO1xuaW1wb3J0IHtcbiAgVGV4dCxcbiAgU3R5bGVTaGVldCxcbiAgU3R5bGVQcm9wLFxuICBUZXh0U3R5bGUsXG4gIExheW91dENoYW5nZUV2ZW50LFxuICBBbmltYXRlZCxcbiAgVmlld1N0eWxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3RoZW1pbmcnO1xuaW1wb3J0IHsgQWRvcm5tZW50U2lkZSB9IGZyb20gJy4vZW51bXMnO1xuXG5jb25zdCBBRkZJWF9PRkZTRVQgPSAxMjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIC8qKlxuICAgKiBUZXh0IHRvIHNob3cuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG4gIG9uTGF5b3V0PzogKGV2ZW50OiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIFN0eWxlIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBUZXh0IGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0U3R5bGU/OiBTdHlsZVByb3A8VGV4dFN0eWxlPjtcbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgdGhlbWU6IFJlYWN0TmF0aXZlUGFwZXIuVGhlbWU7XG59O1xuXG50eXBlIENvbnRleHRTdGF0ZSA9IHtcbiAgdG9wUG9zaXRpb246IG51bWJlciB8IG51bGw7XG4gIG9uTGF5b3V0PzogKGV2ZW50OiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbiAgdmlzaWJsZT86IEFuaW1hdGVkLlZhbHVlO1xuICB0ZXh0U3R5bGU/OiBTdHlsZVByb3A8VGV4dFN0eWxlPjtcbiAgc2lkZTogQWRvcm5tZW50U2lkZTtcbiAgcGFkZGluZ0hvcml6b250YWw/OiBudW1iZXIgfCBzdHJpbmc7XG4gIG1heEZvbnRTaXplTXVsdGlwbGllcj86IG51bWJlciB8IHVuZGVmaW5lZCB8IG51bGw7XG59O1xuXG5jb25zdCBBZmZpeENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PENvbnRleHRTdGF0ZT4oe1xuICB0ZXh0U3R5bGU6IHsgZm9udEZhbWlseTogJycsIGNvbG9yOiAnJyB9LFxuICB0b3BQb3NpdGlvbjogbnVsbCxcbiAgc2lkZTogQWRvcm5tZW50U2lkZS5MZWZ0LFxufSk7XG5cbmNvbnN0IEFmZml4QWRvcm5tZW50OiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxcbiAge1xuICAgIGFmZml4OiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgdGVzdElEOiBzdHJpbmc7XG4gIH0gJiBDb250ZXh0U3RhdGVcbj4gPSAoe1xuICBhZmZpeCxcbiAgc2lkZSxcbiAgdGV4dFN0eWxlLFxuICB0b3BQb3NpdGlvbixcbiAgb25MYXlvdXQsXG4gIHZpc2libGUsXG4gIHBhZGRpbmdIb3Jpem9udGFsLFxuICBtYXhGb250U2l6ZU11bHRpcGxpZXIsXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEFmZml4Q29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgc2lkZSxcbiAgICAgICAgdGV4dFN0eWxlLFxuICAgICAgICB0b3BQb3NpdGlvbixcbiAgICAgICAgb25MYXlvdXQsXG4gICAgICAgIHZpc2libGUsXG4gICAgICAgIHBhZGRpbmdIb3Jpem9udGFsLFxuICAgICAgICBtYXhGb250U2l6ZU11bHRpcGxpZXIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHthZmZpeH1cbiAgICA8L0FmZml4Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8qKlxuICogQSBjb21wb25lbnQgdG8gcmVuZGVyIGEgbGVhZGluZyAvIHRyYWlsaW5nIHRleHQgaW4gdGhlIFRleHRJbnB1dFxuICpcbiAqIDxkaXYgY2xhc3M9XCJzY3JlZW5zaG90c1wiPlxuICogICA8ZmlndXJlPlxuICogICAgIDxpbWcgY2xhc3M9XCJtZWRpdW1cIiBzcmM9XCJzY3JlZW5zaG90cy90ZXh0aW5wdXQtb3V0bGluZS5hZmZpeC5wbmdcIiAvPlxuICogICA8L2ZpZ3VyZT5cbiAqIDwvZGl2PlxuICpcbiAqICMjIFVzYWdlXG4gKiBgYGBqc1xuICogaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuICogaW1wb3J0IHsgVGV4dElucHV0IH0gZnJvbSAncmVhY3QtbmF0aXZlLXBhcGVyJztcbiAqXG4gKiBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgW3RleHQsIHNldFRleHRdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8VGV4dElucHV0XG4gKiAgICAgICBtb2RlPVwib3V0bGluZWRcIlxuICogICAgICAgbGFiZWw9XCJPdXRsaW5lZCBpbnB1dFwiXG4gKiAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgc29tZXRoaW5nXCJcbiAqICAgICAgIHJpZ2h0PXs8VGV4dElucHV0LkFmZml4IHRleHQ9XCIvMTAwXCIgLz59XG4gKiAgICAgLz5cbiAqICAgKTtcbiAqIH07XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgTXlDb21wb25lbnQ7XG4gKiBgYGBcbiAqL1xuXG5jb25zdCBUZXh0SW5wdXRBZmZpeCA9ICh7IHRleHQsIHRleHRTdHlsZTogbGFiZWxTdHlsZSwgdGhlbWUgfTogUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHRleHRTdHlsZSxcbiAgICBvbkxheW91dCxcbiAgICB0b3BQb3NpdGlvbixcbiAgICBzaWRlLFxuICAgIHZpc2libGUsXG4gICAgcGFkZGluZ0hvcml6b250YWwsXG4gICAgbWF4Rm9udFNpemVNdWx0aXBsaWVyLFxuICB9ID0gUmVhY3QudXNlQ29udGV4dChBZmZpeENvbnRleHQpO1xuICBjb25zdCB0ZXh0Q29sb3IgPSBjb2xvcih0aGVtZS5jb2xvcnMudGV4dClcbiAgICAuYWxwaGEodGhlbWUuZGFyayA/IDAuNyA6IDAuNTQpXG4gICAgLnJnYigpXG4gICAgLnN0cmluZygpO1xuXG4gIGNvbnN0IG9mZnNldCA9XG4gICAgdHlwZW9mIHBhZGRpbmdIb3Jpem9udGFsID09PSAnbnVtYmVyJyA/IHBhZGRpbmdIb3Jpem9udGFsIDogQUZGSVhfT0ZGU0VUO1xuXG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIHRvcDogdG9wUG9zaXRpb24sXG4gICAgW3NpZGVdOiBvZmZzZXQsXG4gIH0gYXMgVmlld1N0eWxlO1xuXG4gIHJldHVybiAoXG4gICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgIHN0eWxlPXtbXG4gICAgICAgIHN0eWxlcy5jb250YWluZXIsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB7XG4gICAgICAgICAgb3BhY2l0eTpcbiAgICAgICAgICAgIHZpc2libGU/LmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogWzEsIDBdLFxuICAgICAgICAgICAgfSkgfHwgMSxcbiAgICAgICAgfSxcbiAgICAgIF19XG4gICAgICBvbkxheW91dD17b25MYXlvdXR9XG4gICAgPlxuICAgICAgPFRleHRcbiAgICAgICAgbWF4Rm9udFNpemVNdWx0aXBsaWVyPXttYXhGb250U2l6ZU11bHRpcGxpZXJ9XG4gICAgICAgIHN0eWxlPXtbeyBjb2xvcjogdGV4dENvbG9yIH0sIHRleHRTdHlsZSwgbGFiZWxTdHlsZV19XG4gICAgICA+XG4gICAgICAgIHt0ZXh0fVxuICAgICAgPC9UZXh0PlxuICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgKTtcbn07XG5UZXh0SW5wdXRBZmZpeC5kaXNwbGF5TmFtZSA9ICdUZXh0SW5wdXQuQWZmaXgnO1xuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoVGV4dElucHV0QWZmaXgpO1xuXG4vLyBAY29tcG9uZW50LWRvY3MgaWdub3JlLW5leHQtbGluZVxuZXhwb3J0IHsgVGV4dElucHV0QWZmaXgsIEFmZml4QWRvcm5tZW50IH07XG4iXX0=